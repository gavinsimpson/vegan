<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compares Dissimilarity Indices for Gradient Detection — rankindex • vegan</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compares Dissimilarity Indices for Gradient Detection — rankindex"><meta property="og:description" content="Rank correlations between dissimilarity indices
  and gradient separation."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vegan</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.6-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/FAQ-vegan.html">UNKNOWN TITLE</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/vegandevs/vegan/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compares Dissimilarity Indices for Gradient Detection</h1>
    
    <div class="hidden name"><code>rankindex.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Rank correlations between dissimilarity indices
  and gradient separation.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">rankindex</span><span class="op">(</span><span class="va">grad</span>, <span class="va">veg</span>, indices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"euc"</span>, <span class="st">"man"</span>, <span class="st">"gow"</span>, <span class="st">"bra"</span>, <span class="st">"kul"</span><span class="op">)</span>,
          stepacross <span class="op">=</span> <span class="cn">FALSE</span>, method <span class="op">=</span> <span class="st">"spearman"</span>, 
    metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"euclidean"</span>, <span class="st">"mahalanobis"</span>, <span class="st">"manhattan"</span>, <span class="st">"gower"</span><span class="op">)</span>,
    <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>grad</dt>
<dd><p>The gradient variable or matrix.</p></dd>
<dt>veg</dt>
<dd><p>The community data matrix.</p></dd>
<dt>indices</dt>
<dd><p>Dissimilarity indices compared, partial matches to
    alternatives in <code><a href="vegdist.html">vegdist</a></code>.
    Alternatively, it can be a (named) list of functions returning
    objects of class 'dist'.</p></dd>
<dt>stepacross</dt>
<dd><p>Use <code><a href="stepacross.html">stepacross</a></code> to find
    a shorter path dissimilarity. The dissimilarities for site pairs
    with no shared species are set <code>NA</code> using
    <code><a href="distconnected.html">no.shared</a></code> so that indices with no fixed
    upper limit can also be analysed.</p></dd>
<dt>method</dt>
<dd><p>Correlation method used.</p></dd>
<dt>metric</dt>
<dd><p>Metric to evaluate the gradient separation. See Details.</p></dd>
<dt>...</dt>
<dd><p>Other parameters to <code><a href="stepacross.html">stepacross</a></code>.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>A good dissimilarity index for multidimensional scaling should have
  a high rank-order similarity with gradient separation.  The function
  compares most indices in <code><a href="vegdist.html">vegdist</a></code> against gradient
  separation using rank correlation coefficients in
  <code><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></code>. The gradient separation between each point is
  assessed using given <code>metric</code>. The default is to use Euclidean
  distance of continuous variables scaled to unit variance, or to use
  Gower metric for mixed data using function
  <code><a href="https://rdrr.io/pkg/cluster/man/daisy.html" class="external-link">daisy</a></code> when <code>grad</code> has factors. The other
  alternatives are Mahalanabis distances which are based on
  <code>grad</code> matrix scaled so that columns are orthogonal
  (uncorrelated) and have unit variance, or Manhattan distances of
  <code>grad</code> variables scaled to unit range.</p>
<p>The <code>indices</code> argument can accept any dissimilarity 
  indices besides the ones calculated by the 
  <code><a href="vegdist.html">vegdist</a></code> function. For this, the argument value
  should be a (possibly named) list of functions.
  Each function must return a valid 'dist' object with dissimilarities,
  similarities are not accepted and should be converted into dissimilarities
  beforehand.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p>Returns a named vector of rank correlations.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Faith, F.P., Minchin, P.R. and Belbin,
  L. (1987).  Compositional dissimilarity as a robust measure of
    ecological distance. <em>Vegetatio</em> 69, 57-68.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Jari Oksanen, with additions from Peter Solymos</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>There are several problems in using rank correlation coefficients.
  Typically there are very many ties when \(n(n-1)/2\) gradient
  separation values are derived from just \(n\) observations.
  Due to floating point arithmetics, many tied values differ by
  machine epsilon and are arbitrarily ranked differently by
  <code><a href="https://rdrr.io/r/base/rank.html" class="external-link">rank</a></code> used in <code><a href="https://rdrr.io/r/stats/cor.test.html" class="external-link">cor.test</a></code>.  Two indices
  which are identical with certain
  transformation or standardization may differ slightly
  (magnitude \(10^{-15}\)) and this may lead into third or fourth decimal
  instability in rank correlations.  Small differences in rank
  correlations should not be taken too seriously.  Probably this method
  should be replaced with a sounder method, but I do not yet know
  which...  You may experiment with <code><a href="mantel.html">mantel</a></code>,
  <code><a href="anosim.html">anosim</a></code> or even <code><a href="procrustes.html">protest</a></code>.</p>
<p>Earlier version of this function used <code>method = "kendall"</code>, but
  that is far too slow in large data sets.</p>
<p>The functions returning dissimilarity objects should be self contained,
  because the <code>...</code> argument passes additional parameters
  to <code><a href="stepacross.html">stepacross</a></code> and not to the functions supplied
  via the <code>indices</code> argument.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="vegdist.html">vegdist</a></code>, <code><a href="stepacross.html">stepacross</a></code>,
  <code><a href="distconnected.html">no.shared</a></code>, <code><a href="monoMDS.html">monoMDS</a></code>,
    <code><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></code>, <code><a href="https://rdrr.io/r/base/base-defunct.html" class="external-link">Machine</a></code>, and for
    alternatives <code><a href="anosim.html">anosim</a></code>, <code><a href="mantel.html">mantel</a></code> and
    <code><a href="procrustes.html">protest</a></code>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">varespec</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">varechem</span><span class="op">)</span></span>
<span class="r-in"><span class="co">## The variables are automatically scaled</span></span>
<span class="r-in"><span class="fu">rankindex</span><span class="op">(</span><span class="va">varechem</span>, <span class="va">varespec</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       euc       man       gow       bra       kul </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2396330 0.2735087 0.2288358 0.2837910 0.2839834 </span>
<span class="r-in"><span class="fu">rankindex</span><span class="op">(</span><span class="va">varechem</span>, <span class="fu"><a href="decostand.html">wisconsin</a></span><span class="op">(</span><span class="va">varespec</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       euc       man       gow       bra       kul </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.4200990 0.4215642 0.3708606 0.4215642 0.4215642 </span>
<span class="r-in"><span class="co">## Using non vegdist indices as functions</span></span>
<span class="r-in"><span class="va">funs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Manhattan<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"manhattan"</span><span class="op">)</span>,</span>
<span class="r-in">    Gower<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">cluster</span><span class="fu">:::</span><span class="fu"><a href="https://rdrr.io/pkg/cluster/man/daisy.html" class="external-link">daisy</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"gower"</span><span class="op">)</span>,</span>
<span class="r-in">    Ochiai<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="designdist.html">designdist</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"1-J/sqrt(A*B)"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">rankindex</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/scale.html" class="external-link">scale</a></span><span class="op">(</span><span class="va">varechem</span><span class="op">)</span>, <span class="va">varespec</span>, <span class="va">funs</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Manhattan     Gower    Ochiai </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2735087 0.2288358 0.1696862 </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jari Oksanen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

