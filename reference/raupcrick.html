<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Raup-Crick Dissimilarity with Unequal Sampling Densities of Species — raupcrick • vegan</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Raup-Crick Dissimilarity with Unequal Sampling Densities of Species — raupcrick"><meta property="og:description" content="Function finds the Raup-Crick dissimilarity which is a
  probability of number of co-occurring species with species
  occurrence probabilities proportional to species frequencies."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vegan</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.6-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/FAQ-vegan.html">UNKNOWN TITLE</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/vegandevs/vegan/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Raup-Crick Dissimilarity with Unequal Sampling Densities of Species</h1>
    
    <div class="hidden name"><code>raupcrick.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function finds the Raup-Crick dissimilarity which is a
  probability of number of co-occurring species with species
  occurrence probabilities proportional to species frequencies.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">raupcrick</span><span class="op">(</span><span class="va">comm</span>, null <span class="op">=</span> <span class="st">"r1"</span>, nsimul <span class="op">=</span> <span class="fl">999</span>, chase <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>comm</dt>
<dd><p>Community data which will be treated as presence/absence data.</p></dd>
<dt>null</dt>
<dd><p>Null model used as the <code>method</code> in
     <code><a href="oecosimu.html">oecosimu</a></code>.</p></dd>
<dt>nsimul</dt>
<dd><p>Number of null communities for assessing the
     dissimilarity index.</p></dd>
<dt>chase</dt>
<dd><p>Use the Chase et al. (2011) method of tie handling (not
     recommended except for comparing the results against the Chase
     script).</p></dd>
<dt>...</dt>
<dd><p>Other parameters passed to <code><a href="oecosimu.html">oecosimu</a></code>.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Raup-Crick index is the probability that compared sampling
  units have non-identical species composition.  This probability can
  be regarded as a dissimilarity, although it is not metric: identical
  sampling units can have dissimilarity slightly above \(0\), the
  dissimilarity can be nearly zero over a range of shared species, and
  sampling units with no shared species can have dissimilarity
  slightly below \(1\). Moreover, communities sharing rare species
  appear as more similar (lower probability of finding rare species
  together), than communities sharing the same number of common
  species.</p>
<p>The function will always treat the data as binary (presence/
  absence).</p>
<p>The probability is assessed using simulation with
  <code><a href="oecosimu.html">oecosimu</a></code> where the test statistic is the observed
  number of shared species between sampling units evaluated against a
  community null model (see Examples).  The default null model is
  <code>"r1"</code> where the probability of selecting species is
  proportional to the species frequencies.</p>
<p>The <code><a href="vegdist.html">vegdist</a></code> function implements a variant of the
  Raup-Crick index with equal sampling probabilities for species using
  exact analytic equations without simulation. This corresponds to
  <code>null</code> model <code>"r0"</code> which also can be used with the
  current function.  All other null model methods of
  <code><a href="oecosimu.html">oecosimu</a></code> can be used with the current function, but
  they are new unpublished methods.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p>The function returns an object inheriting from
<code><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></code> which can be interpreted as a dissimilarity
  matrix.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Chase, J.M., Kraft, N.J.B., Smith, K.G., Vellend, M. and Inouye,
  B.D. (2011). Using null models to disentangle variation in community
  dissimilarity from variation in \(\alpha\)-diversity.
  <em>Ecosphere</em> 2:art24 doi: <a href="https://doi.org/10.1890/ES10-00117.1" class="external-link">10.1890/ES10-00117.1</a></p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>The function was developed after Brian Inouye contacted us and
  informed us about the method in Chase et al. (2011), and the
  function takes its idea from the code that was published with their
  paper. The current function was written by Jari Oksanen.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>The test statistic is the number of shared species, and this is
  typically tied with a large number of simulation results. The tied
  values are handled differently in the current function and in the
  function published with Chase et al. (2011). In <span class="pkg">vegan</span>, the
  index is the number of simulated values that are smaller <em>or
  equal</em> than the observed value, but smaller than observed value is
  used by Chase et al. (2011) with option <code>split = FALSE</code> in
  their script; this can be achieved with <code>chase = TRUE</code> in
  <span class="pkg">vegan</span>.  Chase et al. (2011) script with <code>split = TRUE</code>
  uses half of tied simulation values to calculate a distance measure,
  and that choice cannot be directly reproduced in vegan (it is the
  average of <span class="pkg">vegan</span> <code>raupcrick</code> results with 
  <code>chase = TRUE</code> and <code>chase = FALSE</code>).</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>The function is based on <code><a href="oecosimu.html">oecosimu</a></code>. Function
  <code><a href="vegdist.html">vegdist</a></code> with method = "raup" implements a related
  index but with equal sampling densities of species, and
  <code><a href="designdist.html">designdist</a></code> demonstrates its calculation.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co">## data set with variable species richness</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sipoo</span><span class="op">)</span></span>
<span class="r-in"><span class="co">## default raupcrick</span></span>
<span class="r-in"><span class="va">dr1</span> <span class="op">&lt;-</span> <span class="fu">raupcrick</span><span class="op">(</span><span class="va">sipoo</span><span class="op">)</span></span>
<span class="r-in"><span class="co">## use null model "r0" of oecosimu</span></span>
<span class="r-in"><span class="va">dr0</span> <span class="op">&lt;-</span> <span class="fu">raupcrick</span><span class="op">(</span><span class="va">sipoo</span>, null <span class="op">=</span> <span class="st">"r0"</span><span class="op">)</span></span>
<span class="r-in"><span class="co">## vegdist(..., method = "raup") corresponds to 'null = "r0"'</span></span>
<span class="r-in"><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="vegdist.html">vegdist</a></span><span class="op">(</span><span class="va">sipoo</span>, <span class="st">"raup"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">op</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>, mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">+</span><span class="fl">.1</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dr1</span> <span class="op">~</span> <span class="va">d</span>, xlab <span class="op">=</span> <span class="st">"Raup-Crick with Null R1"</span>, ylab<span class="op">=</span><span class="st">"vegdist"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dr0</span> <span class="op">~</span> <span class="va">d</span>, xlab <span class="op">=</span> <span class="st">"Raup-Crick with Null R0"</span>, ylab<span class="op">=</span><span class="st">"vegdist"</span><span class="op">)</span></span>
<span class="r-plt img"><img src="raupcrick-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">op</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## The calculation is essentially as in the following oecosimu() call,</span></span>
<span class="r-in"><span class="co">## except that designdist() is replaced with faster code</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> </span>
<span class="r-in"><span class="fu"><a href="oecosimu.html">oecosimu</a></span><span class="op">(</span><span class="va">sipoo</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="designdist.html">designdist</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"J"</span>, <span class="st">"binary"</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"r1"</span><span class="op">)</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jari Oksanen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

